<div class="card shadow-sm p-3">
    <h5 class="mb-3">Filtros</h5>
    <form method="get">

        <!-- Región -->
        <div class="mb-3">
            <label class="form-label">Región</label>
            <select name="region" class="form-select" id="regionSelect">
                <option value="">Todas</option>
                {% for region in regiones %}
                    <option value="{{ region.id }}"
                        {% if request.GET.region == region.id|stringformat:"s" %}selected{% endif %}>
                        {{ region.nombre }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Comuna (dependiente de Región) -->
        <div class="mb-3">
            <label class="form-label">Comuna</label>
            <select name="comuna" class="form-select" id="comunaSelect">
                <option value="">Todas</option>
                {% if comunas %}
                    {% for comuna in comunas %}
                        <option value="{{ comuna.id }}"
                            {% if request.GET.comuna == comuna.id|stringformat:"s" %}selected{% endif %}>
                            {{ comuna.nombre }}
                        </option>
                    {% endfor %}
                {% endif %}
            </select>
        </div>

        <!-- Tipo inmueble -->
        <div class="mb-3">
            <label class="form-label">Tipo</label>
            <select name="tipo" class="form-select">
                <option value="">Todos</option>
                {% for value, label in tipos_inmueble %}
                    <option value="{{ value }}"
                        {% if request.GET.tipo == value %}selected{% endif %}>
                        {{ label }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Rango de precio -->
        <div class="mb-3">
            <label class="form-label">Precio (arriendo mensual)</label>
            <div class="d-flex">
                <input type="number" name="precio_min" class="form-control me-2"
                       placeholder="Mín." value="{{ request.GET.precio_min }}">
                <input type="number" name="precio_max" class="form-control"
                       placeholder="Máx." value="{{ request.GET.precio_max }}">
            </div>
        </div>

        <button type="submit" class="btn btn-primary w-100">Aplicar filtros</button>
    </form>
</div>