{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header</title>
    {% include 'web/componentes/scripts.html' %}
</head>
<body>
    <!-- Popular Properties -->
    <div class="header-carousel carousel slide" id="propertyCarousel" data-bs-ride="carousel">

        <!-- Overlay fijo -->
        <div class="header-overlay">
            <h2>Popular Properties</h2>
            <a href="{% url 'inmueble_list' %}">View all properties</a>
        </div>

        <div class="carousel-inner">
            {% for inmueble in inmuebles %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <img src="{{ inmueble.imagen.url }}" alt="{{ inmueble.nombre }}">
                    <div class="carousel-caption bg-dark bg-opacity-50 rounded p-3">
                        <h5 class="text-white">{{ inmueble.nombre }}</h5>
                        <p class="text-white mb-1">{{ inmueble.comuna.nombre }}</p>
                        <p class="text-warning fw-bold">
                            ${{ inmueble.arriendo_mensual|floatformat:0 }}
                        </p>
                        <small class="text-light d-block">
                            {{ inmueble.descripcion|truncatewords:20 }}
                        </small>
                    </div>
                </div>
            {% empty %}
                <div class="carousel-item active">
                    <div class="text-center p-5 bg-light rounded">
                        <h5>No hay propiedades para mostrar</h5>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- Controles -->
        <button class="carousel-control-prev" type="button" data-bs-target="#propertyCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#propertyCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</body>
</html>